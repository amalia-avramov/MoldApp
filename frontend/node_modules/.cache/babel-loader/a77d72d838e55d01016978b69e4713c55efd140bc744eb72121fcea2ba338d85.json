{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport { server } from \"../../utils\";\nimport { useState } from \"react\";\nexport function useRegister() {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    getValues\n  } = useForm({\n    mode: \"onChange\"\n  });\n  const navigate = useNavigate();\n  const [showModal, setShowModal] = useState(false);\n  const onSubmit = async () => {\n    const postData = getValues();\n    const result = await fetch(`${server}/users`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": \"token-value\"\n      },\n      body: JSON.stringify(postData)\n    });\n    if (!result.ok) {\n      console.log(result);\n    } else {\n      setShowModal;\n    }\n  };\n  return {\n    register,\n    errors,\n    onSubmit: handleSubmit(onSubmit)\n  };\n}\n_s(useRegister, \"tcKOdbl524Wt4c5gZjPLrHuRdAg=\", false, function () {\n  return [useForm, useNavigate];\n});","map":{"version":3,"names":["useForm","useNavigate","server","useState","useRegister","_s","register","handleSubmit","formState","errors","getValues","mode","navigate","showModal","setShowModal","onSubmit","postData","result","fetch","method","headers","body","JSON","stringify","ok","console","log"],"sources":["/Users/amaliaavramov/MoldApp/frontend/src/pages/register/useRegister.ts"],"sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport { server } from \"../../utils\";\nimport { User } from \"../../types\";\nimport { useState } from \"react\";\n\n\nexport function useRegister() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    getValues,\n  } = useForm<User>({ mode: \"onChange\" });\n  const navigate = useNavigate();\n  const [showModal, setShowModal]=useState(false);\n\n  const onSubmit = async () => {\n    const postData = getValues();\n    const result = await fetch(`${server}/users`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": \"token-value\",\n      },\n      body: JSON.stringify(postData),\n    });\n    if (!result.ok) {\n      console.log(result);\n    } else {\n      setShowModal\n    }\n  };\n\n  return { register, errors, onSubmit: handleSubmit(onSubmit) };\n}\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,iBAAiB;AACzC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,MAAM,QAAQ,aAAa;AAEpC,SAASC,QAAQ,QAAQ,OAAO;AAGhC,OAAO,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM;IACJC,QAAQ;IACRC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO,CAAC;IACrBC;EACF,CAAC,GAAGV,OAAO,CAAO;IAAEW,IAAI,EAAE;EAAW,CAAC,CAAC;EACvC,MAAMC,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAACX,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAMY,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMC,QAAQ,GAAGN,SAAS,CAAC,CAAC;IAC5B,MAAMO,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAEhB,MAAO,QAAO,EAAE;MAC5CiB,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,gBAAgB,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ;IAC/B,CAAC,CAAC;IACF,IAAI,CAACC,MAAM,CAACO,EAAE,EAAE;MACdC,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;IACrB,CAAC,MAAM;MACLH,YAAY;IACd;EACF,CAAC;EAED,OAAO;IAAER,QAAQ;IAAEG,MAAM;IAAEM,QAAQ,EAAER,YAAY,CAACQ,QAAQ;EAAE,CAAC;AAC/D;AAACV,EAAA,CA5BeD,WAAW;EAAA,QAMrBJ,OAAO,EACMC,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}