{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useForm } from \"react-hook-form\";\nimport { server } from \"../../utils\";\nimport { useState } from \"react\";\nexport function useRegister() {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    getValues\n  } = useForm({\n    mode: \"onChange\"\n  });\n  const [showModal, setShowModal] = useState(false);\n  const onSubmit = async () => {\n    const postData = getValues();\n    const result = await fetch(`${server}/users`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": \"token-value\"\n      },\n      body: JSON.stringify(postData)\n    });\n    if (!result.ok) {\n      console.log(result);\n    } else {\n      setShowModal(true);\n    }\n  };\n  return {\n    register,\n    showModal,\n    errors,\n    onSubmit: handleSubmit(onSubmit)\n  };\n}\n_s(useRegister, \"rs/nAsywub3hALLHTutpU0/d2xI=\", false, function () {\n  return [useForm];\n});","map":{"version":3,"names":["useForm","server","useState","useRegister","_s","register","handleSubmit","formState","errors","getValues","mode","showModal","setShowModal","onSubmit","postData","result","fetch","method","headers","body","JSON","stringify","ok","console","log"],"sources":["/Users/amaliaavramov/MoldApp/frontend/src/pages/register/useRegister.ts"],"sourcesContent":["import { useForm } from \"react-hook-form\";\nimport { server } from \"../../utils\";\nimport { User } from \"../../types\";\nimport { useState } from \"react\";\n\nexport function useRegister() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    getValues,\n  } = useForm<User>({ mode: \"onChange\" });\n  const [showModal, setShowModal] = useState(false);\n\n  const onSubmit = async () => {\n    const postData = getValues();\n    const result = await fetch(`${server}/users`, {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"x-access-token\": \"token-value\",\n      },\n      body: JSON.stringify(postData),\n    });\n    if (!result.ok) {\n      console.log(result);\n    } else {\n      setShowModal(true);\n    }\n  };\n\n  return { register, showModal, errors, onSubmit: handleSubmit(onSubmit) };\n}\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,iBAAiB;AACzC,SAASC,MAAM,QAAQ,aAAa;AAEpC,SAASC,QAAQ,QAAQ,OAAO;AAEhC,OAAO,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM;IACJC,QAAQ;IACRC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO,CAAC;IACrBC;EACF,CAAC,GAAGT,OAAO,CAAO;IAAEU,IAAI,EAAE;EAAW,CAAC,CAAC;EACvC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAMW,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMC,QAAQ,GAAGL,SAAS,CAAC,CAAC;IAC5B,MAAMM,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAEf,MAAO,QAAO,EAAE;MAC5CgB,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,gBAAgB,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ;IAC/B,CAAC,CAAC;IACF,IAAI,CAACC,MAAM,CAACO,EAAE,EAAE;MACdC,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;IACrB,CAAC,MAAM;MACLH,YAAY,CAAC,IAAI,CAAC;IACpB;EACF,CAAC;EAED,OAAO;IAAEP,QAAQ;IAAEM,SAAS;IAAEH,MAAM;IAAEK,QAAQ,EAAEP,YAAY,CAACO,QAAQ;EAAE,CAAC;AAC1E;AAACT,EAAA,CA3BeD,WAAW;EAAA,QAMrBH,OAAO;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}